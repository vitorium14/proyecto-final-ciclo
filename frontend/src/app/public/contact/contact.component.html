<div class="contact-page py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-7">
        <h2 class="fw-bold mb-4 text-center text-primary">Contáctanos</h2>
        <form #contactForm="ngForm" (ngSubmit)="onSubmit()" novalidate autocomplete="off"> <!-- Added ngSubmit -->
          <div class="mb-3">
            <label for="name" class="form-label">Nombre</label>
            <input type="text" id="name" name="name" class="form-control" required minlength="2" maxlength="50" [(ngModel)]="name" #nameCtrl="ngModel">
            <div *ngIf="nameCtrl.invalid && nameCtrl.touched" class="text-danger small mt-1">
              El nombre es obligatorio (mínimo 2 caracteres).
            </div>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email" name="email" class="form-control" required email [(ngModel)]="email" #emailCtrl="ngModel">
            <div *ngIf="emailCtrl.invalid && emailCtrl.touched" class="text-danger small mt-1">
              Introduce un email válido.
            </div>
          </div>
          <div class="mb-3">
            <label for="message" class="form-label">Mensaje</label>
            <textarea id="message" name="message" class="form-control" rows="5" required minlength="10" maxlength="500" [(ngModel)]="message" #messageCtrl="ngModel"></textarea>
            <div *ngIf="messageCtrl.invalid && messageCtrl.touched" class="text-danger small mt-1">
              El mensaje debe tener al menos 10 caracteres.
            </div>
          </div>
          <!-- Submission Feedback -->
          <div *ngIf="submitSuccess === true" class="alert alert-success py-2 small mb-3">
            ¡Mensaje enviado con éxito! Gracias por contactarnos.
          </div>
          <div *ngIf="submitSuccess === false" class="alert alert-danger py-2 small mb-3">
            Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo más tarde.
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary btn-lg rounded-pill" [disabled]="contactForm.invalid || isSubmitting">
              {{ isSubmitting ? 'Enviando...' : 'Enviar mensaje' }} <!-- Updated button text/state -->
            </button>
          </div>
        </form>
      </div>
    </div>
    <div class="row justify-content-center mt-5">
      <div class="col-lg-7">
        <div class="card border-0 shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title fw-bold mb-3 text-primary">Datos de contacto</h5>
            <ul class="list-unstyled mb-0">
              <li class="mb-2"><i class="bi bi-geo-alt-fill text-primary me-2"></i> Calle Falsa 123, 28080 Madrid, España</li>
              <li class="mb-2"><i class="bi bi-telephone-fill text-primary me-2"></i> +34 912 345 678</li>
              <li class="mb-2"><i class="bi bi-envelope-fill text-primary me-2"></i> info&#64;orangehotel.com</li>
              <li><i class="bi bi-clock-fill text-primary me-2"></i> Lunes a Domingo: 8:00 - 22:00</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-5 rounded-4 overflow-hidden shadow-sm" >
      <iframe
        src="https://www.openstreetmap.org/export/embed.html?bbox=-3.7055%2C40.4155%2C-3.7011%2C40.4180&amp;layer=mapnik&amp;marker=40.416775,-3.703790"
        
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        title="Ubicación OrangeHotel - Cerca de Puerta del Sol, Madrid"
      ></iframe>
    </div>
  </div>
</div>
